<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
<title>HostMyStuff</title>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"> </script>

    <meta name="viewport" content="width=device-width, initial-scale=0.75">
    <main>
        <h1> Welcome to HostMyStuff</h1>
See the source code and more information <a href="https://github.com/JurisMajors/hostmystuff">here.</a>

<h2> Authentication </h2>
<p> To use this service, your gpg public key must be part of my key-ring.</p>
<h3> What? </h3>
<p>Generate a gpg key if you don't have one already</p>
<code> gpg --full-generate-key </code>

<p>Upload your gpg key to a keyserver, preferrably <a href="https://keys.openpgp.org/">this one</a></p>
<code>gpg --export your_address@example.net | curl -T - https://keys.openpgp.org</code>
<p>That will output a verification link, to verify your identity</p>

<p>Then, either make a PR on the repository by adding your keyID and keyserver or simply provide it to me through PM</p>

<p> All files that are uploaded must be digitally signed (see example below) </p>

<p> Example upload: 
    <pre class="prettyprint">
    # create tmp file
    TMPFILE='/tmp/hostmystuff.tmp';
    # sign the file that you wish to upload 
    SIGNATURE=$(gpg --sign --output $TMPFILE 'path-to-file');
    # do the request
    LINK=$(curl -F"file=@$TMPFILE" https://www.hostmystuff.ml)
    # remove the tmp file
    $(rm -f $TMPFILE)
    # put the link to the file in stdout
    echo "$LINK"
    </pre>
</p>

And yes.. sometimes when uploading you will be prompted for your passphrase, deal with it!


<h2> Syntax highlighting </h2>

<p> HostMyStuff supports syntax highlighting. See this hello world programme with some highlight sugar</p>
<pre class="prettyprint">
public class HelloWorld {
	public static void main(String... args) {
		System.out.println("Hello World!");	
	}	
}
</pre>
<p> To not apply syntax highlighting simply supply a <i>raw</i> query parameter to the GET request <code>?raw=true</code>.</p>

<p> Useful in-case of bugs when highlighting is applied (please report them if you find any) or in case you want to download the file (e.g. wget).</p>

<h2> Other information</h2>
<p> Max file size is 512M </p>
<p> Files get <b>deleted</b> according to the same formula as 0x0.st.  </p>
<pre>
retention = min_age + (-max_age + min_age) * pow((file_size / max_size - 1), 3)

   days
    365 |  \
        |   \
        |    \
        |     \
        |      \
        |       \
        |        ..
        |          \
  197.5 | ----------..-------------------------------------------
        |             ..
        |               \
        |                ..
        |                  ...
        |                     ..
        |                       ...
        |                          ....
        |                              ......
     30 |                                    ....................
          0                        256                        512
                                                              MiB 

    
</pre>
</main>
</meta>

</body>
</html> 

